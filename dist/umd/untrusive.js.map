{"version":3,"file":"untrusive.js","sources":["../module/styleClasses.js","../module/generateCss.js","../module/index.js"],"sourcesContent":["export var styleClasses = {\n    wrapper: \"untrusive-wrapper\",\n    wrapper_active: \"untrusive-active\",\n    bar: \"untrusive-bar\",\n};\n//# sourceMappingURL=styleClasses.js.map","import { styleClasses } from \"./styleClasses\";\nexport var generateCss = function (wrapperId, _a) {\n    var bgColor = _a.bgColor, barColor = _a.barColor, height = _a.height;\n    return (\"\\n  #\" + wrapperId + \" {\\n    display: none;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: \" + (height || 4) + \"px;\\n    width: 100%;\\n    background-color: \" + (bgColor || \"gray\") + \";\\n    margin: 0 0 0 0;\\n    overflow: hidden;\\n    z-index: 2000;\\n  }\\n  #\" + wrapperId + \"  .\" + styleClasses.bar + \" {\\n    background-color:  \" + (barColor || \"black\") + \";\\n  }\\n  #\" + wrapperId + \"  .\" + styleClasses.bar + \":before {\\n    content: '';\\n    position: absolute;\\n    background-color: inherit;\\n    top: 0;\\n    left:0;\\n    bottom: 0;\\n    will-change: left, right;\\n    animation: indeterminate 2.1s cubic-bezier(0.650, 0.815, 0.735, 0.395) infinite;\\n  }\\n  #\" + wrapperId + \"  .\" + styleClasses.bar + \":after {\\n    content: '';\\n    position: absolute;\\n    background-color: inherit;\\n    top: 0;\\n    left:0;\\n    bottom: 0;\\n    will-change: left, right;\\n    animation: indeterminate-short 2.1s cubic-bezier(0.165, 0.840, 0.440, 1.000) infinite;\\n    animation-delay: 1.15s;\\n  }\\n  #\" + wrapperId + \".\" + styleClasses.wrapper_active + \" {\\n    display: block;\\n  }\\n  @keyframes indeterminate {\\n    0% {\\n      left: -35%;\\n      right:100%;\\n    }\\n    60% {\\n      left: 100%;\\n      right: -90%;\\n    }\\n    100% {\\n      left: 100%;\\n      right: -90%;\\n    }\\n  }\\n  @keyframes indeterminate-short {\\n    0% {\\n      left: -200%;\\n      right: 100%;\\n    }\\n    60% {\\n      left: 107%;\\n      right: -8%;\\n    }\\n    100% {\\n      left: 107%;\\n      right: -8%;\\n    }\\n  }\\n\").trim();\n};\n//# sourceMappingURL=generateCss.js.map","import { styleClasses } from \"./styleClasses\";\nimport { generateCss } from \"./generateCss\";\nvar isServer = typeof window === \"undefined\";\nvar Untrusive = (function () {\n    function Untrusive(opts) {\n        var _this = this;\n        this.id = Math.random().toString(36).substr(2, 9);\n        this.wrapperId = \"untrusive-\" + this.id;\n        this.cssId = \"untrusive-css-\" + this.id;\n        this.init = function (opts) {\n            if (isServer) {\n                return;\n            }\n            var css = document.createElement(\"style\");\n            var wrapper = document.createElement(\"div\");\n            var bar = document.createElement(\"div\");\n            css.id = _this.cssId;\n            css.innerHTML = generateCss(_this.wrapperId, opts);\n            var existingCss = document.getElementById(_this.cssId);\n            if (existingCss) {\n                existingCss.remove();\n            }\n            document.head.appendChild(css);\n            wrapper.id = _this.wrapperId;\n            wrapper.className = styleClasses.wrapper;\n            bar.className = styleClasses.bar;\n            var existing = document.getElementById(_this.wrapperId);\n            if (existing) {\n                existing.remove();\n            }\n            wrapper.appendChild(bar);\n            document.body.appendChild(wrapper);\n        };\n        this.toggle = function () {\n            if (isServer) {\n                return;\n            }\n            var wrapper = document.getElementById(_this.wrapperId);\n            if (!wrapper) {\n                return;\n            }\n            var active = wrapper.classList.contains(styleClasses.wrapper_active);\n            if (active) {\n                wrapper.classList.remove(styleClasses.wrapper_active);\n            }\n            else {\n                wrapper.classList.add(styleClasses.wrapper_active);\n            }\n        };\n        this.start = function () {\n            if (isServer) {\n                return;\n            }\n            var wrapper = document.getElementById(_this.wrapperId);\n            if (!wrapper) {\n                return;\n            }\n            var active = wrapper.classList.contains(styleClasses.wrapper_active);\n            if (!active) {\n                wrapper.classList.add(styleClasses.wrapper_active);\n            }\n        };\n        this.stop = function () {\n            if (isServer) {\n                return;\n            }\n            var wrapper = document.getElementById(_this.wrapperId);\n            if (!wrapper) {\n                return;\n            }\n            var active = wrapper.classList.contains(styleClasses.wrapper_active);\n            if (active) {\n                wrapper.classList.remove(styleClasses.wrapper_active);\n            }\n        };\n        this.init(opts);\n    }\n    return Untrusive;\n}());\nexport default Untrusive;\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}